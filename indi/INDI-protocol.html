<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>1137e478-3ff8-4221-b087-1e5eb617c0c6</title><style type="text/css"> * {margin:0; padding:0; text-indent:0; }
 h1 { color: black; font-family:"Century Schoolbook", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 .s2 { color: black; font-family:"Century Schoolbook", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .h2, h2 { color: black; font-family:"Century Schoolbook", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8pt; }
 p { color: black; font-family:Century, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; margin:0pt; }
 .s3 { color: black; font-family:Century, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; vertical-align: 3pt; }
 .s4 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s5 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8pt; }
 .s6 { color: black; font-family:"Century Schoolbook", serif; font-style: italic; font-weight: bold; text-decoration: none; font-size: 8pt; }
 .s7 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s8 { color: black; font-family:"Courier New", monospace; font-style: italic; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s10 { color: black; font-family:"Courier New", monospace; font-style: italic; font-weight: normal; text-decoration: none; font-size: 8pt; vertical-align: 3pt; }
 .a, a { color: black; font-family:Century, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 li {display: block; }
 #l1 {padding-left: 0pt; }
 #l1> li>*:first-child:before {content: " "; color: black; font-family:Symbol, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 li {display: block; }
 #l2 {padding-left: 0pt;counter-reset: d1 2; }
 #l2> li>*:first-child:before {counter-increment: d1; content: counter(d1, decimal)" "; color: black; font-family:Century, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; vertical-align: 3pt; }
 #l2> li:first-child>*:first-child:before {counter-increment: d1 0;  }
</style></head><body><p style="text-indent: 0pt;text-align: left;"><br/></p><h1 style="padding-left: 95pt;text-indent: 0pt;line-height: 204%;text-align: center;">INDI: <u>I</u>nstrument-<u>N</u>eutral <u>D</u>istributed <u>I</u>nterface Protocol Version 1.7</h1><h1 style="padding-left: 95pt;text-indent: 0pt;text-align: center;">Document Version 1.3</h1><p style="padding-top: 5pt;text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 95pt;text-indent: 0pt;text-align: center;">© 2003-2007 Elwood Charles Downey</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 95pt;text-indent: 0pt;text-align: center;">Abstract</h2><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 42pt;text-indent: 0pt;line-height: 124%;text-align: justify;">A simple XML-like communications protocol is described for interactive and automated remote control of diverse instrumentation. INDI is small, easy to parse and stateless. In the INDI paradigm each Device poses all command and status functions in terms of setting and getting Properties. Each Property is a vector of one or more named members. Each Property provides timing information about how it might be sequenced with respect to other Properties to accomplish one coordinated action and provides hints as to how it might be displayed for interactive manipulation in a GUI. Clients learn the Properties of a particular Device at runtime using introspection. This decouples Client and Device implementation histories. Devices have complete authority over whether to accept commands from Clients. INDI accommodates intermediate servers, broadcasting, and connection topologies ranging from one-to-one on a single system to many-to-many between systems of different genre. The INDI protocol can be nested within other XML elements such as RTML to add constraints for automatic scheduling and execution.</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><h1 style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Introduction</h1><p style="padding-top: 7pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;line-height: 124%;text-align: left;">Modern astronomical instrumentation places high demand on its software infrastructure. Mounts, detectors and auxiliary equipment have many control points and configurations vary greatly across facilities and over time, creating an atmosphere of constantly changing software. Yet in the midst of this change users want consistent local and remote real-time access, freedom to use their favorite computing platforms, and ways to participate in the creation and use of clever automated scheduling techniques for efficient utilization of equipment and reduced operating costs. Keeping everything synchronized involves at least significant configuration management effort if not completely new development projects as these factors change.</p><p style="padding-top: 7pt;padding-left: 6pt;text-indent: 0pt;line-height: 12pt;text-align: left;">This paper presents an architecture that eliminates the need for client software modifications when equipment or usage patterns change. The key feature is a communication protocol which allows a facility to describe itself in terms of devices in sufficient detail so they can be operated from a GUI for real-time command purposes or captured in a request file for later automated execution. This dynamic discovery process means that, except for the lowest level device drivers, none of the software components need to be rebuilt if and when the equipment being controlled changes. Conversely, clients may change as often as desired because they are not tied to particulars of the instrumentation. All networking and file formats use a simple subset of XML<span class="s3">1 </span>which promotes freedom of choice for implementation languages and operating systems at each part of the system.</p><p style="padding-top: 8pt;padding-left: 6pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Other attempts involving XML for control purposes, such as AIML<span class="s3">2</span>, differ from INDI in that they use XML to describe existing command and control channels. Our design uses XML directly for this purpose. Other attempts at capturing static observing requests in a file in XML format, such as the evolving RTML<span class="s3">3</span>, intentionally restrict themselves to the control of canonical instruments. This prevents scheduling instruments with functionality that differs from its standardized conceptual framework without changing the standard. Our design captures commands for diverse and even esoteric instrumentation with no changes in tools whatsoever.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h1 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">INDI Architecture</h1><p style="padding-top: 7pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">The diagram below represents the simplest possible INDI configuration: one Client connected to one Device:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s4" style="text-indent: 0pt;line-height: 9pt;text-align: left;">GUI Client  <span style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; vertical-align: 1pt;">INDi</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 1pt;">Monster Scope     </span><span style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt;">protocol</span></p><p style="padding-left: 6pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span style=" color: black; font-family:&quot;Courier New&quot;, monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 1pt;">RA 7:23:05.12 9:00:00.00 0..24 Hours</span></p><p style="padding-left: 4pt;text-indent: 0pt;text-align: left;"><span style=" color: black; font-family:&quot;Courier New&quot;, monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 1pt;">Dec -2:14:56.2 10:00:00.0 -20..90 Degrees</span></p><p style="padding-left: 4pt;text-indent: 0pt;text-align: left;"><span style=" color: black; font-family:&quot;Courier New&quot;, monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 1pt;">Alt 67:34:17.2 0:00:00.0 0..90 Degrees</span></p><p style="padding-left: 6pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span style=" color: black; font-family:&quot;Courier New&quot;, monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 1pt;">Az255:04:38.3 0:00:00.0 0..360 Degs EofN</span></p><p style="padding-left: 17pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span style=" color: black; font-family:&quot;Courier New&quot;, monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 1pt;">Stop</span></p><p class="s4" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Device driver</p><p style="text-indent: 0pt;line-height: 1pt;text-align: left;"><span style=" color: black; font-family:&quot;Courier New&quot;, monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 1pt;">20010112134517 Slewing to RA 9:00:00.00</span></p><p style="text-indent: 0pt;line-height: 1pt;text-align: left;"><span style=" color: black; font-family:&quot;Courier New&quot;, monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 1pt;">20010112134519 Slewing to Dec 10:00:00.00</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 2pt;text-indent: 0pt;text-align: left;"><span style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 1pt;">Big-O Filter Wheel</span></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><span style=" color: black; font-family:&quot;Courier New&quot;, monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 1pt;">Filter H</span><span style=" color: black; font-family:Symbol, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 1pt;"></span></p><p style="padding-left: 2pt;text-indent: 0pt;text-align: center;"><span style=" color: black; font-family:&quot;Courier New&quot;, monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 1pt;">Stop</span></p><p style="padding-left: 1pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span style=" color: black; font-family:&quot;Courier New&quot;, monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 1pt;">20010112134001 Red filter in place</span></p><p style="text-indent: 0pt;line-height: 1pt;text-align: left;"><span style=" color: black; font-family:&quot;Courier New&quot;, monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 1pt;">20010112134519 Going to H </span><span style=" color: black; font-family:Symbol, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 1pt;"></span><span style=" color: black; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 1pt;"> </span><span style=" color: black; font-family:&quot;Courier New&quot;, monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 1pt;">filter</span></p><p style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><span><table border="0" cellspacing="0" cellpadding="0"><tr><td><img width="329" height="51" src="data:image/png;base64,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"/></td></tr></table></span></p><p class="s4" style="padding-left: 309pt;text-indent: 0pt;text-align: left;">instrument</p><p class="s5" style="padding-top: 5pt;padding-left: 96pt;text-indent: 0pt;text-align: center;">The simplest INDI configuration</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;line-height: 125%;text-align: left;">An INDI <span class="h2">Device </span>offers a service cast as a set of <span class="h2">Properties </span>in the INDI format. An INDI <span class="h2">Client </span>is a process which connects to an INDI Device, queries the Device for its set of control Properties and possibly send requests to change those Properties to the Device. Final authority for all instrument control rests with the Device. A Client may be a GUI which presents each command as a widget of some sort for displaying the current value of a command and possibly allowing the user to specify a new target value. A Client may be a process which never sends any changes to the Device, but monitors and logs all changes in Device state. A Client may be an automated command process that has an agenda of INDI commands and scans the agenda and decides suitable times to send new commands to the Device.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s4" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">INDI</p><p class="s4" style="padding-left: 5pt;text-indent: -5pt;line-height: 87%;text-align: left;">Control GUI</p><p class="s4" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">INDi</p><p class="s4" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Server</p><p class="s4" style="text-indent: 0pt;line-height: 8pt;text-align: center;">INDi</p><p class="s4" style="text-indent: 0pt;line-height: 9pt;text-align: center;">Daemon</p><p class="s4" style="text-indent: 0pt;line-height: 176%;text-align: justify;">Device Device Device Device</p><p class="s4" style="padding-top: 6pt;padding-left: 1pt;text-indent: 0pt;text-align: left;">Device</p><p class="s4" style="text-indent: 0pt;line-height: 8pt;text-align: center;">INDi</p><p class="s4" style="text-indent: 0pt;line-height: 9pt;text-align: center;">Monitor</p><p style="text-indent: 0pt;text-align: left;"/><p class="s4" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Internet</p><p style="text-indent: 0pt;text-align: left;"/><p class="s5" style="padding-left: 96pt;text-indent: 0pt;text-align: center;">INDI with an intermediate Server</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;line-height: 125%;text-align: left;">INDI Clients and Devices need not be in direct contact. The protocol is designed to accommodate arbitration and broadcasting among several Clients and Devices. For example, the diagram above shows an example of using an intermediary <span class="h2">Server </span>between INDI Clients and Devices. To each Client it appears to be a Device. To each Device it appears to be a Client. Servers can implement policies for administrative issues such as security, priority, graded access lists and other situations that arise when multiple Clients are in contact with multiple Devices.</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><h1 style="padding-left: 6pt;text-indent: 0pt;text-align: left;">INDI Properties</h1><p style="padding-top: 7pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Properties are vectors of one of a small set of types. <span class="h2">Text </span>properties are collections of arbitrarily ordered characters. <span class="h2">Number</span></p><p style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;line-height: 127%;text-align: left;">properties are numeric quantities and are sent with a printf-style format to recommend how a GUI should display them. <span class="h2">Switch </span>properties are always in a state of On or Off. Rules may be imposed on the behavior of the switches in a vector such as no more than one may be On at a time. <span class="h2">Lights </span>are properties that may be in one of the four states: Idle, OK, Busy or Alert. If a GUI displays this the suggested corresponding colors are gray, green, yellow and red, respectively. <span class="h2">BLOB </span>properties hold arbitrary binary large objects such as images.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 125%;text-align: left;">Each Property has a <span class="h2">name </span>for identification purposes and a <span class="h2">label </span>for presentation purposes. Each element of the Property vector also has a name, making it in effect an associative array, and a presentation label. Changes to a Property effect all vector elements atomically.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 124%;text-align: left;">All Property types except Lights have a <span class="h2">permission </span>attribute (lights are conceptually always read-only). Text and Number may be Read-Only, Write-Only or Read-Write; Switches may be Read-Only or Read-Write. Permission terminology is with respect to the Client but this does not bestow any true ability. Permission serves only as a hint to a Client as to whether a Device is potentially willing to allow a Property to be changed. If a Device reports a Property to be Read-Only it still must not trust the Client to comply but enforce the policy in case of rogue Clients that try to set a new value anyway. The permission hints allow Clients to treat Property values in sensible ways. For example a GUI Client may display the Property in a way that conveys whether it can be changed. For writable Properties, GUIs are encouraged to provide two fields: one that is passive and displays the last value received, and one that is interactive in which the user may type or otherwise modify a value without it being subject to spontaneous changes.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 125%;text-align: left;">Each Property as a whole is always in one of four <span class="h2">states</span>: Idle, OK, Busy and Alert. If a GUI displays this in different colors, the colors suggested are gray, green, yellow and red, respectively. A Device is strongly encouraged to send an accompanying message whenever it informs a Client of a change of state. When a Client sends a command to change a Property, the Client shall henceforth consider the Property state to be Busy. When the Device accomplishes the associated action it sends a message that indicates the Property state has changed to, say, OK.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 125%;text-align: left;">Each Property has a <span class="h2">timeout </span>value that specifies the worst-case time it might take to change the value to something else. The Device may report changes to the timeout value depending on current device status. Timeout values give Clients a simple ability to detect dysfunctional Devices or broken communication and also gives them a way to predict the duration of an action for scheduling purposes as discussed later.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 126%;text-align: left;">Properties may be assembled into <span class="h2">groups </span>to suggest how Clients might organize them, for presentation purposes for example, but groups serve no functional purpose.</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><h1 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">INDI Protocol</h1><p style="padding-top: 7pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 125%;text-align: left;">Each command between Client and Device specifies a <span class="h2">Device name </span>and <span class="h2">Property name</span>. The Device name serves as a logical grouping of several Properties. Property names must be unique per Device, and a Server must report unique Device names to any one Client.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 124%;text-align: left;">The INDI protocol does not have the notion of query and response. A sender does not save context when it sends a command and wait for a specific response. A command may be sent for which a complementary command back is likely but all INDI participants must always be prepared to receive any command at any time. There is no notion of meta-errors such as illegally formatted commands, inappropriate commands or problems with the underlying communication mechanism. The proper response to all unusual or unexpected input is expressly to ignore any such problems (although some form of logging outside the scope of INDI might be judicious). With these rules the INDI protocol is small and simple; defines-away the possibility of deadlocks at the protocol level; automatically accommodates broadcasting; permits flexible and transparent routing; and eliminates the need for complex sequencing and synchronization.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 126%;text-align: left;">When a Client first starts up it knows nothing about the Devices and Properties it will control. It begins by connecting to a Device or indiserver and sending the <span class="h2">getProperties </span>command. This includes the protocol version and may include the name of a specific Device and Property if it is known by some other means. If no device is specified, then all devices are reported; if no name is specified, then all properties for the given device are reported. The Device then sends back one <span class="h2">def</span><span class="s6">type </span>element for each matching Property it offers for control, limited to the Properties of the specified Device if included. The def<span class="s2">type </span>element shall always include all members of the vector for each Property.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 124%;text-align: left;">Note again that by sending a request for Property definitions the Client is not then waiting specifically for these definitions in reply. Nor is the Device obligated to supply these definitions in any order or particular time frame. The Client may learn of some Properties soon and perhaps others much later. The Client may also see messages for Properties about which it is as yet</p><p style="padding-top: 7pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 124%;text-align: left;">unaware in which case the Client silently ignores the message. Thus a Client must have the ability to dynamically expand its collection of Properties at any time and gracefully ignore unexpected information.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 125%;text-align: left;">To inform a Device of new target values for a Property, a Client sends one <span class="h2">new</span><span class="s6">type </span>element. The Client must send all members of Number and Text vectors, or may send just the members that change for other types. Before it does so, the Client sets its notion of the state of the Property to Busy and leaves it until told otherwise by the Device. A Client <span class="s2">does not </span>poll to see whether the current reported values happen to agree with what it last commanded and set its state back to Ok on its own.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 124%;text-align: justify;">This policy allows the Device to decide how close is close enough. The Device will eventually send a state of Ok if and when the new values for the Property have been successfully accomplished according to the Devices criteria, or send back Alert if they can not be accomplished with a message explaining why.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 125%;text-align: left;">To inform a Client of new current values for a Property and their state, a Device sends one <span class="h2">set</span><span class="s6">type </span>element. It is only required to send those members of the vector that have changed. In the case of Properties whose values change rapidly, the Device must insure that communication of the new values are not sent so often as to saturate the connection with the Client. For example, a socket implementation might send a new value only if writing to the socket descriptor would not block the process.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 127%;text-align: left;">In order to allow for the likelyhood of requiring special efficiency considerations in the design of Clients to handle BLOB Properties, the element <span class="h2">enableBLOB </span>allows a Client to specify whether <span class="h2">setBLOB </span>elements will arrive on a given INDI connection. The Client may send this element with a value of <span class="h2">Only</span>, <span class="h2">Also </span>or <span class="h2">Never</span>. The default setting upon making a new connection is <span class="h2">Never </span>which means <span class="h2">setBLOB </span>elements will never be sent over said connection. If the Client sends <span class="h2">Only</span>, from then on only <span class="h2">setBLOB </span>elements shall be sent to the Client on said connection. If the Client sends <span class="h2">Also</span>, then all other elements may be sent as well. A Client may send the value of <span class="h2">Never </span>at any time to return to the default condition. This flow control facility allows a Client the opportunity, for example, to open a separate connection and create a separate processing thread dedicated to handling BLOB data. This behavior is only to be implemented in intermediate INDI server processes; individual Device drivers shall disregard <span class="h2">enableBLOB </span>and send all elements at will.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 125%;text-align: left;">A Device may send out a <span class="h2">message </span>either as part of another command or by itself. When sent alone a message may be associated with a specific Device or just to the Client in general. Messages are meant for human readers and should be sent by a Device whenever any significant event occurs or target is reached. The INDI protocol syntax provides a means for a Device to time stamp each message and is encouraged to do so to maintain consistent time across all its Clients. If the Device does not include a time stamp for some reason (such as if it is a very simple device without local time-keeping capability) the Client is encouraged to add its own time stamp.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 125%;text-align: left;">A Device may tell a Client a given Property is no longer available by sending <span class="h2">delProperty</span>. If the command specifies only a Device without a Property, the Client must assume all the Properties for that Device, and indeed the Device itself, are no longer available.</p><p style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;line-height: 125%;text-align: left;">One Device may snoop the Properties of another Device by sending the <span class="h2">getProperties </span>command. The command may specify one Device and one Property, or all Properties for a Device or even all Devices, depending on whether the optional device and name attributes are given. Once specified, all messages from the matching Devices and Properties will be copied to the requesting Device as well.</p><h2 style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">Protocol Version Compatability</h2><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;line-height: 125%;text-align: left;">Version 1.7 added getProperties from Devices to add snooping functionality, and added the name attribute to getProperties from Clients to increase specificity. These changes are compatable with all prior versions. There was no change in the Protocol DTD itself from 1.5 to 1.6, just a clarification in the documentation regarding when all members of a vector must be transmitted or just those members that changed. The only change from 1.4 to 1.5 is making the size attribute of the oneBLOB element required instead of optional. Thus 1.5 Clients remain compatable with 1.4 Drivers in all respects if the Drivers happened to transmit BLOB size. Version 1.4 is compatable with 1.3 in all respects except for incompatable changes in the <span class="h2">oneBLOB </span>element. Version 1.3 is the same as 1.2 in all respects with the addition of the BLOB elements for transfering binary data. Thus, 1.2, 1.3, 1.4 and 1.5 Clients and Drivers may be freely intermixed, to the extent they do not use BLOB elements.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h1 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">INDI XML Syntax Specification</h1><p style="padding-top: 7pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 124%;text-align: left;">This section defines the exact XML syntax of each INDI command and its behavior as part of the INDI protocol. A snippet of annotated DTD is given for each command. This section ends with some examples.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The DTDs make use of the following Entities:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ENTITY % propertyState &quot;(Idle|Ok|Busy|Alert)&quot; &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ENTITY % switchState &quot;(Off|On)&quot; &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ENTITY % switchRule &quot;(OneOfMany|AtMostOne|AnyOfMany)&quot; &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ENTITY % propertyPerm &quot;(ro|wo|rw)&quot; &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ENTITY % numberValue &quot;(#PCDATA)&quot; &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ENTITY % numberFormat &quot;(#PCDATA)&quot; &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ENTITY % labelValue &quot;(#PCDATA)&quot; &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ENTITY % nameValue &quot;(#PCDATA)&quot; &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ENTITY % textValue &quot;(#PCDATA)&quot; &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ENTITY % timeValue &quot;(#PCDATA)&quot; &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ENTITY % groupTag &quot;(#PCDATA)&quot; &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ENTITY % BLOBlength &quot;(#PCDATA)&quot; &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ENTITY % BLOBformat &quot;(#PCDATA)&quot; &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ENTITY % BLOBenable &quot;(Never|Also|Only)&quot; &gt;</p><p style="padding-top: 3pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">All <span class="s7">PCDATA </span>shall use character set ISO 8651-1<span class="s3">4</span>.</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;line-height: 122%;text-align: justify;">The format of a <span class="s7">numberValue </span>shall be any one of integer, real or sexagesimal; each sexagesimal separator shall be any one of space( ), colon (:) or semicolon (;); each sexagesimal component specified shall be integer or real; unspecified components shall default to 0; negative values shall be indicated with a leading hyphen (-). For example, the following are all the same numeric value: &quot;-10:30:18&quot;, &quot;-10 30.3&quot; and &quot;-10.505&quot;.</p><p style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;line-height: 115%;text-align: justify;">A <span class="s7">numberFormat </span>shall be any string that includes exactly one printf-style format specification appropriate for C-type double or one INDI style &quot;m&quot; to specify sexagesimal in the form &quot;<span class="s7">%&lt;w&gt;.&lt;f&gt;m</span>&quot; where</p><p class="s7" style="padding-top: 7pt;padding-left: 39pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;w&gt; is the total field width</p><p class="s7" style="padding-left: 39pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;f&gt; is the width of the fraction. valid values are:</p><p class="s7" style="padding-left: 54pt;text-indent: 0pt;line-height: 8pt;text-align: left;">9 -&gt; :mm:ss.ss</p><p class="s7" style="padding-left: 54pt;text-indent: 0pt;line-height: 8pt;text-align: left;">8 -&gt; :mm:ss.s</p><p class="s7" style="padding-left: 54pt;text-indent: 0pt;line-height: 8pt;text-align: left;">6 -&gt; :mm:ss</p><p class="s7" style="padding-left: 54pt;text-indent: 0pt;line-height: 8pt;text-align: left;">5 -&gt; :mm.m</p><p class="s7" style="padding-left: 54pt;text-indent: 0pt;line-height: 8pt;text-align: left;">3 -&gt; :mm</p><p style="padding-top: 8pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">For example:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 39pt;text-indent: 0pt;text-align: left;">to produce  use</p><p class="s7" style="padding-top: 6pt;text-indent: 0pt;line-height: 8pt;text-align: right;">&quot;-123:45&quot;  %7.3m</p><p class="s7" style="text-indent: 0pt;line-height: 8pt;text-align: right;">&quot; 0:01:02&quot;  %9.6m</p><p style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;line-height: 12pt;text-align: left;">A <span class="s7">timeValue </span>shall be specified in UTC in the form YYYY-MM-DDTHH:MM:SS.S. The final decimal and subsequent fractional seconds are optional and may be specified to whatever precision is deemed necessary by the transmitting entity. This format is in general accord with ISO 8601<span class="s3">5 </span>and the Complete forms defined in W3C Note &quot;Date and Time Formats&quot;<span class="s3">6</span>.</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Commands from Device to Client</h2><p style="padding-top: 9pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">In the following descriptions, permission is always with respect to the Client.</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 5pt;text-indent: 0pt;line-height: 83%;text-align: left;">Command to enable snooping messages from other devices. Once enabled, defXXX and setXXX messages for the Property with the given <span class="s7">name </span>and other messages from the <span class="s7">device </span>will be sent to this driver channel. Enables messages from all devices if <span class="s7">device </span>is not specified, and all Properties for the given device if <span class="s7">name </span>is not specified. Specifying <span class="s7">name </span>without <span class="s7">device </span>is not defined<span class="s7">.</span></p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>getProperties </b>EMPTY &gt;</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST getProperties</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">device %nameValue; #IMPLIED       <i>device to snoop, or all if absent</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 7pt;text-align: left;">name %nameValue; #IMPLIED        <i>property of device to snoop, or all if absent</i></p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Define a property that holds one or more text elements.</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>defTextVector </b>(defText+) &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST defTextVector</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">device %nameValue; #REQUIRED      <i>name of Device</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of Property</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">label %labelValue; #IMPLIED       <i>GUI label, use name by default</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">group %groupTag; #IMPLIED        <i>Property group membership, blank by default</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">state %propertyState; #REQUIRED     <i>current state of Property</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">perm %propertyPerm; #REQUIRED      <i>ostensible Client controlability</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">timeout %numberValue; #IMPLIED      <i>worse-case time to affect, 0 default, N/A for ro</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">timestamp %timeValue #IMPLIED      <i>moment when these data were valid</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: left;">message %textValue #IMPLIED       <i>commentary</i></p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 6pt;padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Define one member of a text vector</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>defText </b>%textValue &gt;</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST defText</p><p class="s7" style="padding-left: 20pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of this text element</i></p><p class="s7" style="padding-left: 20pt;text-indent: 0pt;line-height: 7pt;text-align: left;">label %labelValue; #IMPLIED      <i>GUI label, or use name by default</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Define a property that holds one or more numeric values.</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>defNumberVector </b>(defNumber+) &gt;</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST defNumberVector</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">device %nameValue; #REQUIRED      <i>name of Device</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of Property</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">label %labelValue; #IMPLIED       <i>GUI label, use name by default</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">group %groupTag; #IMPLIED        <i>Property group membership, blank by default</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">state %propertyState; #REQUIRED     <i>current state of Property</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">perm %propertyPerm; #REQUIRED      <i>ostensible Client controlability</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">timeout %numberValue; #IMPLIED      <i>worse-case time to affect, 0 default, N/A for ro</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">timestamp %timeValue #IMPLIED      <i>moment when these data were valid</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 7pt;text-align: left;">message %textValue #IMPLIED       <i>commentary</i></p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 6pt;padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Define one member of a number vector</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>defNumber </b>%numberValue &gt;</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST defNumber</p><p class="s7" style="padding-left: 20pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of this number element</i></p><p class="s7" style="padding-left: 20pt;text-indent: 0pt;line-height: 8pt;text-align: left;">label %labelValue; #IMPLIED      <i>GUI label, or use name by default</i></p><p class="s7" style="padding-left: 20pt;text-indent: 0pt;line-height: 8pt;text-align: left;">format %numberFormat; #REQUIRED     <i>printf-style format for GUI display</i></p><p class="s7" style="padding-left: 25pt;text-indent: 0pt;line-height: 8pt;text-align: left;">min %numberValue; #REQUIRED      <i>minimal value</i></p><p class="s7" style="padding-left: 20pt;text-indent: 0pt;line-height: 8pt;text-align: left;">max %numberValue; #REQUIRED      <i>maximum value, ignore if min == max</i></p><p class="s7" style="padding-left: 20pt;text-indent: 0pt;line-height: 7pt;text-align: left;">step %numberValue; #REQUIRED      <i>allowed increments, ignore if 0</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 7pt;padding-left: 6pt;text-indent: 0pt;line-height: 83%;text-align: left;">Define a collection of switches. <span class="s7">Rule </span>is only a hint for use by a GUI to decide a suitable presentation style. Rules are actually implemented wholly within the Device.</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>defSwitchVector </b>(defSwitch+) &gt;</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST defSwitchVector</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">device %nameValue; #REQUIRED      <i>name of Device</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of Property</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">label %labelValue; #IMPLIED       <i>GUI label, use name by default</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">group %groupTag; #IMPLIED        <i>Property group membership, blank by default</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">state %propertyState; #REQUIRED     <i>current state of Property</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">perm %propertyPerm; #REQUIRED      <i>ostensible Client controlability</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">rule %switchRule; #REQUIRED       <i>hint for GUI presentation</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 83%;text-align: left;">timeout %numberValue; #IMPLIED      <i>worse-case time, 0 default, N/A for ro </i>timestamp %timeValue #IMPLIED      <i>moment when these data were valid </i>message %textValue #IMPLIED       <i>commentary</i></p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 6pt;padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Define one member of a switch vector</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>defSwitch </b>%switchState &gt;</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST defSwitch</p><p class="s7" style="padding-left: 20pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of this switch element</i></p><p class="s7" style="padding-left: 20pt;text-indent: 0pt;line-height: 7pt;text-align: left;">label %labelValue; #IMPLIED      <i>GUI label, or use name by default</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Define a collection of passive indicator lights.</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>defLightVector </b>(defLight+) &gt;</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST defLightVector</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">device %nameValue; #REQUIRED      <i>name of Device</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of Property</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">label %labelValue; #IMPLIED       <i>GUI label, use name by default</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">group %groupTag; #IMPLIED        <i>Property group membership, blank by default</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 83%;text-align: left;">state %propertyState; #REQUIRED     <i>current state of Property </i>timestamp %timeValue #IMPLIED      <i>moment when these data were valid </i>message %textValue #IMPLIED       <i>commentary</i></p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&gt;</p><p style="padding-top: 7pt;text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Define one member of a light vector</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>defLight </b>%propertyState &gt;</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST defLight</p><p class="s7" style="padding-left: 20pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of this light element</i></p><p class="s7" style="padding-left: 20pt;text-indent: 0pt;line-height: 7pt;text-align: left;">label %labelValue; #IMPLIED      <i>GUI label, or use name by default</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Define a property that holds one or more Binary Large Objects, BLOBs.</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>defBLOBVector </b>(defBLOB+) &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST defBLOBVector</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">device %nameValue; #REQUIRED      <i>name of Device</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of Property</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">label %labelValue; #IMPLIED       <i>GUI label, use name by default</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">group %groupTag; #IMPLIED        <i>Property group membership, blank by default</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">state %propertyState; #REQUIRED     <i>current state of Property</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">perm %propertyPerm; #REQUIRED      <i>ostensible Client controlability</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">timeout %numberValue; #IMPLIED      <i>worse-case time to affect, 0 default, N/A for ro</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">timestamp %timeValue #IMPLIED      <i>moment when these data were valid</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: left;">message %textValue #IMPLIED       <i>commentary</i></p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 7pt;padding-left: 14pt;text-indent: 0pt;line-height: 83%;text-align: left;">Define one member of a BLOB vector. Unlike other defXXX elements, this does not contain an initial value for the BLOB.</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>defBLOB </b>EMPTY &gt;</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST defBLOB</p><p class="s7" style="padding-left: 20pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of this BLOB element</i></p><p class="s7" style="padding-left: 20pt;text-indent: 0pt;line-height: 7pt;text-align: left;">label %labelValue; #IMPLIED      <i>GUI label, or use name by default</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Send a new set of values for a Text vector, with optional new timeout, state and message.</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>setTextVector </b>(oneText+) &gt;</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST setTextVector</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">device %nameValue; #REQUIRED      <i>name of Device</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of Property</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">state %propertyState; #IMPLIED     <i>state, no change if absent</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">timeout %numberValue; #IMPLIED     <i>worse-case time to affect a change</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">timestamp %timeValue #IMPLIED      <i>moment when these data were valid</i></p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">message %textValue #IMPLIED       <i>commentary</i></p><p class="s8" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Send a new set of values for a Number vector, with optional new timeout, state and message.</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>setNumberVector </b>(oneNumber+) &gt;</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST setNumberVector</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">device %nameValue; #REQUIRED      <i>name of Device</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of Property</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">state %propertyState; #IMPLIED     <i>state, no change if absent</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 83%;text-align: left;">timeout %numberValue; #IMPLIED      <i>worse-case time to affect a change </i>timestamp %timeValue #IMPLIED      <i>moment when these data were valid </i>message %textValue #IMPLIED       <i>commentary</i></p><p class="s8" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Send a new set of values for a Switch vector, with optional new timeout, state and message.</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>setSwitchVector </b>(oneSwitch+) &gt;</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST setSwitchVector</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">device %nameValue; #REQUIRED      <i>name of Device</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of Property</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">state %propertyState; #IMPLIED     <i>state, no change if absent</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 83%;text-align: left;">timeout %numberValue; #IMPLIED      <i>worse-case time to affect a change </i>timestamp %timeValue #IMPLIED      <i>moment when these data were valid </i>message %textValue #IMPLIED       <i>commentary</i></p><p class="s8" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Send a new set of values for a Light vector, with optional new state and message.</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>setLightVector </b>(oneLight+) &gt;</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST setLightVector</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">device %nameValue; #REQUIRED      <i>name of Device</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of Property</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 83%;text-align: left;">state %propertyState; #IMPLIED      <i>state, no change if absent </i>timestamp %timeValue #IMPLIED      <i>moment when these data were valid </i>message %textValue #IMPLIED       <i>commentary</i></p><p class="s8" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Send a new set of values for a BLOB vector, with optional new timeout, state and message.</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>setBLOBVector </b>(oneBLOB+) &gt;</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST setBLOBVector</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">device %nameValue; #REQUIRED      <i>name of Device</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of Property</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">state %propertyState; #IMPLIED     <i>state, no change if absent</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 83%;text-align: left;">timeout %numberValue; #IMPLIED      <i>worse-case time to affect a change </i>timestamp %timeValue #IMPLIED      <i>moment when these data were valid </i>message %textValue #IMPLIED       <i>commentary</i></p><p class="s8" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Send a message associated with a device or entire system.</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>message </b>&gt;</p><p style="padding-top: 7pt;text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST message</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 83%;text-align: left;">device %nameValue; #IMPLIED       <i>considered to be site-wide if absent </i>timestamp %timeValue #IMPLIED      <i>moment when this message was generated </i>message %textValue #IMPLIED       <i>commentary</i></p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Delete the given property, or entire device if no property is specified.</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>delProperty </b>&gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST delProperty</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">device %nameValue; #REQUIRED      <i>name of Device</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #IMPLIED        <i>entire device if absent</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">timestamp %timeValue #IMPLIED      <i>moment when this delete was generated</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: left;">message %textValue #IMPLIED       <i>commentary</i></p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Send a message to specify state of one member of a Light vector</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>oneLight </b>%propertyState &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST oneLight</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of this light element</i></p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Commands from Client to Device</h2><p style="padding-top: 8pt;text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 5pt;text-indent: 0pt;line-height: 83%;text-align: left;">Command to ask Device to define all Properties, or those for a specific Device or specific Property, for which it is responsible. Must always include protocol version.</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>getProperties </b>EMPTY &gt;</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST getProperties</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">version %nameValue; #REQUIRED      <i>protocol version</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">device %nameValue; #IMPLIED       <i>name of Device, or all if absent</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 7pt;text-align: left;">name %nameValue; #IMPLIED        <i>name of Property, or all if absent</i></p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;line-height: 87%;text-align: left;">Command to control whether <span class="s7">setBLOB</span>s should be sent to this channel from a given Device. They can be turned off completely by setting <b>Never </b>(the default), allowed to be intermixed with other INDI commands by setting <b>Also </b>or made the only command by setting <b>Only</b>.</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>enableBLOB </b>%BLOBenable &gt;</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST enableBLOB</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">device %nameValue; #REQUIRED      <i>name of Device</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 7pt;text-align: left;">name %nameValue; #IMPLIED        <i>name of BLOB Property, or all if absent</i></p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 7pt;padding-left: 6pt;text-indent: 0pt;line-height: 83%;text-align: left;">Commands to inform Device of new target values for a Property. After sending, the Client must set its local state for the Property to Busy, leaving it up to the Device to change it when it sees fit.</p><p class="s7" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">&lt;!ELEMENT <b>newTextVector </b>(oneText+) &gt;    <i>send new target text values</i></p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST newTextVector</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">device %nameValue; #REQUIRED      <i>name of Device</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of Property</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 7pt;text-align: left;">timestamp %timeValue #IMPLIED      <i>moment when this message was generated</i></p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">&gt;</p><p class="s7" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">&lt;!ELEMENT <b>newNumberVector </b>(oneNumber+) &gt;  <i>send new target numeric values</i></p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST newNumberVector</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">device %nameValue; #REQUIRED      <i>name of Device</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of Property</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 7pt;text-align: left;">timestamp %timeValue #IMPLIED      <i>moment when this message was generated</i></p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">&gt;</p><p class="s7" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">&lt;!ELEMENT <b>newSwitchVector </b>(oneSwitch+) &gt;  <i>send new target switch states</i></p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST newSwitchVector</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">device %nameValue; #REQUIRED      <i>name of Device</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of Property</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 7pt;text-align: left;">timestamp %timeValue #IMPLIED      <i>moment when this message was generated</i></p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">&gt;</p><p class="s7" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">&lt;!ELEMENT <b>newBLOBVector </b>(oneBLOB+) &gt;    <i>send new target BLOBs</i></p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST newBLOBVector</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">device %nameValue; #REQUIRED      <i>name of Device</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of Property</i></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 7pt;text-align: left;">timestamp %timeValue #IMPLIED      <i>moment when this message was generated</i></p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">&gt;</p><p style="padding-top: 8pt;text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Elements describing a vector member value, used in both directions.</h2><p style="padding-top: 7pt;text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">One member of a Text vector</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>oneText </b>%textValue &gt;</p><p class="s7" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST oneText</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of this text element</i></p><p style="padding-top: 7pt;text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">One member of a Number vector</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>oneNumber </b>%numberValue &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST oneNumber</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of this number element</i></p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">One member of a switch vector</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>oneSwitch </b>%switchState &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST oneSwitch</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of this switch element</i></p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">&gt;</p><p class="s8" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;line-height: 83%;text-align: left;">One member of a BLOB vector. The contents of this element must always be encoded using base64<span class="s10">7</span>. The <span class="s7">format </span>attribute consists of one or more file name suffixes, each preceded with a period, which indicate how the decoded data is to be interpreted. For example <span class="s7">.fits </span>indicates the decoded</p><p class="s8" style="padding-left: 5pt;text-indent: 0pt;line-height: 6pt;text-align: left;">BLOB is a FITS<span class="s10">8 </span>file, and <span class="s7">.fits.z </span>indicates the decoded BLOB is a FITS file compressed with</p><p class="s8" style="padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">zlib<span class="s10">9</span>. The INDI protocol places no restrictions on the contents or formats of BLOBs but at</p><p class="s8" style="padding-left: 5pt;text-indent: 0pt;line-height: 83%;text-align: left;">minimum astronomical INDI clients are encouraged to support the FITS image file format and the zlib compression mechanism. The <span class="s7">size </span>attribute indicates the number of bytes in the final BLOB after decoding and after any decompression. For example, if the <span class="s7">format </span>is <span class="s7">.fits.z </span>the <span class="s7">size </span>attribute is the number of bytes in the FITS file. A Client unfamiliar with the specified <span class="s7">format </span>may use the attribute as a simple string, perhaps in combination with the <span class="s7">timestamp </span>attribute, to create a file name in which to store the data without processing other than decoding the base64.</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ELEMENT <b>oneBLOB </b>%BLOBValue &gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;!ATTLIST oneBLOB</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">name %nameValue; #REQUIRED       <i>name of this BLOB element</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">size %BLOBlength; #REQUIRED       <i>number of bytes in decoded and uncompressed BLOB</i></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: left;">format %BLOBformat; #REQUIRED      <i>format as a file suffix, eg: .z, .fits, .fits.z</i></p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Example Messages from Device to Client</h2><p style="padding-top: 9pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Define a read-write numeric field whose valid range is -100 to +100 in steps of 10, with initial value 50:</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 24pt;text-indent: -18pt;line-height: 83%;text-align: left;">&lt;defNumberVector device=&quot;OTA&quot; name=&quot;Focus&quot; state=&quot;Idle&quot; perm=&quot;rw&quot; timeout=&quot;50&quot; label=&quot;Focus position, µM&quot;</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: left;">&lt;defNumber name=&quot;Focus&quot; label=&quot;&quot; format=&quot;%4.0f&quot; min=&quot;-100&quot; max=&quot;100&quot; step=&quot;10&quot;&gt;50&lt;/defNumber&gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/defNumberVector&gt;</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Define a read-write vector with two members, one for RA and one for Dec:</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 24pt;text-indent: -18pt;line-height: 83%;text-align: left;">&lt;defNumberVector device=&quot;Mount&quot; name=&quot;EQUATORIALJ2000_COORD&quot; state=&quot;Idle&quot; perm=&quot;rw&quot; timeout=&quot;50&quot; label=&quot;J2000 Equatorial Position&quot;</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: left;">&lt;defNumber name=&quot;RA&quot; label=&quot;RA H:M:S&quot; format=&quot;%11.8m&quot; min=&quot;0&quot;  max=&quot;24&quot;&gt;0&lt;/defNumber&gt;</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;defNumber name=&quot;Dec&quot; label=&quot;Dec D:M:S&quot; format=&quot;%9.6m &quot; min=&quot;-90&quot; max=&quot;90&quot;&gt;0&lt;/defNumber&gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/defNumberVector&gt;</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Define a collection of switches for various binning settings, default setting 2:1:</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 25pt;text-indent: -19pt;line-height: 83%;text-align: left;">&lt;defSwitchVector device=&quot;Camera&quot; name=&quot;Binning&quot; rule=&quot;OneOfMany&quot; state=&quot;Ok&quot; perm=&quot;w&quot; timeout=&quot;0&quot; label=&quot;Binning&quot;&gt;</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: left;">&lt;defSwitch name=&quot;One&quot; label=&quot;1:1&quot;&gt;Off&lt;/defSwitch&gt;</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;defSwitch name=&quot;Two&quot; label=&quot;2:1&quot;&gt;On &lt;/defSwitch&gt;</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;defSwitch name=&quot;Three&quot; label=&quot;3:1&quot;&gt;Off&lt;/defSwitch&gt;</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;defSwitch name=&quot;Four&quot; label=&quot;4:1&quot;&gt;Off&lt;/defSwitch&gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/defSwitchVector&gt;</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Define a set of lights that indicate the security level of several alarms around the building:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;defLightVector device=&quot;Building&quot; name=&quot;Security&quot; state=&quot;Ok&quot; label=&quot;Building Alarms&quot;&gt;</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;defLight name=&quot;Front&quot; label=&quot;Front door&quot; &gt;Ok&lt;/defLight&gt;</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;defLight name=&quot;Back&quot; label=&quot;Back door&quot; &gt;Ok&lt;/defLight&gt;</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;defLight name=&quot;Dock&quot; label=&quot;Loading dock&quot;&gt;Ok&lt;/defLight&gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/defLightVector&gt;</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 124%;text-align: left;">Inform Client the current value of a switch has changed, assuming the switch rule was OneOfMany. Note how changes in both switches are reported, the switch change from On to Off preceding the one from Off to On and the Property state set to OK:</p><p class="s7" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 83%;text-align: left;">&lt;setSwitchVector device=&quot;Camera&quot; name=&quot;Binning&quot; state=&quot;Ok&quot; timestamp=&quot;2002-03-13T16:04:02&quot; message=&quot;Binning changed to 1:1&quot;&gt;</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: left;">&lt;oneSwitch name=&quot;Two&quot;&gt;Off&lt;/oneSwitch&gt;</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;oneSwitch name=&quot;One&quot;&gt;On&quot;&lt;/oneSwitch&gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/setSwitchVector&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Send a generic system message:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">&lt;message timestamp=&quot;2002-03-13 12:00:00&quot; message=&quot;It’s 12 o’clock and all is well.&quot; /&gt;</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Send a progress message about a device named Camera:</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 83%;text-align: left;">&lt;message device=&quot;Camera&quot; timestamp=&quot;2002-03-13 16:06:20&quot; message=&quot;TEC is approaching target temperature&quot; /&gt;</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Inform Client that the loading dock security alarm has been tripped:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;setLightVector device=&quot;Building&quot; name=&quot;Security&quot; state=&quot;Alert&quot;&gt;</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;oneLight name=&quot;Dock&quot;&gt;Alert&lt;/oneLight&gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/setLightVector&gt;</p><p style="padding-top: 6pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Request copies from now on of the Property named Now from the Device Environment:</p><p class="s7" style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">&lt;getProperties device=&quot;Environment&quot; name=&quot;Now&quot; /&gt;</p><p style="padding-top: 8pt;text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Example Messages from Client to Device</h2><p style="padding-top: 9pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 124%;text-align: left;">Inform Device of a new target value for a OneOfMany switch Property. Note how only the switch coming On is reported. The Client sets its local notion of the Property state to Busy. The Device implements the &quot;one of Many&quot; discipline, not the Client. The Device will send back the command to turn the other switch Off and set the state back to OK when the command has been accomplished. This results in completely correct behavior and relieves the Client from being expected or even trusted to do this.</p><p class="s7" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;newSwitchVector device=&quot;Camera&quot; name=&quot;Binning&quot;&gt;</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;oneSwitch name=&quot;Four&quot;&gt;On&lt;/oneSwitch&gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/newSwitchVector&gt;</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Send new target value for RA and Dec <span class="s2">atomically:</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;newNumberVector device=&quot;Mount&quot; name=&quot;EQUATORIALJ2000_COORD&quot;&gt;</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;oneNumber name=&quot;RA&quot; &gt;10:20:30&lt;/oneNumber&gt;</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;oneNumber name=&quot;Dec&quot;&gt;40:50:60&lt;/oneNumber&gt;</p><p class="s7" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/newNumberVector&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h1 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">INDI Network Behavior</h1><p style="padding-top: 7pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">INDI is a session layer protocol. This means it <span class="s2">presumes </span>the existence of a reliable sequenced byte stream between each INDI</p><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">participant. The transport mechanism for the INDI protocol may be anything that satisfies these requirements. It might be direct driver calls, local pipes, fifos, a UNIX socket, a TCP socket perhaps secured with SSL<span class="s3">10 </span>or tunneling through ssh<span class="s3">11</span>, or the protocol might be the payload within a framework built upon P2P<span class="s3">12</span>, JXTA<span class="s3">13</span>, Jabber<span class="s3">14</span>, XML-RPC<span class="s3">15 </span>or SOAP<span class="s3">16</span>. If a straight TCP/IP Socket implementation is used, the IANA<span class="s3">17 </span>has assigned INDI to tcp port 7624.</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 125%;text-align: left;">The following sections contain pseudocode that describe the required logic by which a player on an INDI network must operate. This code does not in any way attempt to address the application being accomplished by the Client or the equipment or service being operated by the Device. A key point to realize is conditions that arise that do not fit these templates, <span class="s2">ie, </span>the missing <span class="s7">else </span>clauses, are legitimately ignored although perhaps prudently logged.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Client Processing</h2><p class="s7" style="padding-top: 9pt;padding-left: 20pt;text-indent: 0pt;line-height: 8pt;text-align: left;">if receive &lt;setXXX&gt; from Device</p><p class="s7" style="padding-left: 20pt;text-indent: 9pt;line-height: 83%;text-align: left;">change record of value and/or state for the specified Property if receive &lt;defProperty&gt; from Device</p><p class="s7" style="padding-left: 39pt;text-indent: -9pt;line-height: 83%;text-align: left;">if first time to see this device= create new Device record</p><p class="s7" style="padding-left: 39pt;text-indent: -9pt;line-height: 83%;text-align: left;">if first time to see this device+name combination create new Property record within given Device</p><p class="s7" style="padding-left: 30pt;text-indent: -9pt;line-height: 83%;text-align: left;">if receive &lt;delProperty&gt; from Device if includes device= attribute</p><p class="s7" style="padding-left: 39pt;text-indent: 0pt;line-height: 7pt;text-align: left;">if includes name= attribute</p><p class="s7" style="padding-left: 49pt;text-indent: 0pt;line-height: 8pt;text-align: left;">delete record for just the given Device+name</p><p style="padding-top: 7pt;text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 39pt;text-indent: 0pt;line-height: 8pt;text-align: left;">else</p><p class="s7" style="padding-left: 49pt;text-indent: 0pt;line-height: 7pt;text-align: left;">delete all records the given Device</p><p class="s7" style="padding-left: 30pt;text-indent: 0pt;line-height: 8pt;text-align: left;">else</p><p class="s7" style="padding-left: 39pt;text-indent: 0pt;line-height: 8pt;text-align: left;">delete all records for all devices</p><p class="s7" style="padding-top: 7pt;padding-left: 30pt;text-indent: -9pt;line-height: 83%;text-align: left;">if Client wants to learn all Devices and all their Properties send &lt;defProperties&gt;</p><p class="s7" style="padding-top: 7pt;padding-left: 30pt;text-indent: -9pt;line-height: 83%;text-align: left;">if Client wants to change a Property value or state set State to Busy</p><p class="s7" style="padding-left: 30pt;text-indent: 0pt;line-height: 8pt;text-align: left;">send &lt;newXXX&gt; with device, name and value</p><p class="s7" style="padding-top: 7pt;padding-left: 30pt;text-indent: -9pt;line-height: 83%;text-align: left;">if Client wants to query a Property’s target value or state send &lt;getTarValue&gt; with device and name attributes</p><p style="padding-top: 8pt;text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Device Processing</h2><p style="padding-top: 7pt;text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 20pt;text-indent: 0pt;line-height: 8pt;text-align: left;">if receive &lt;newXXX&gt; from Client</p><p class="s7" style="padding-left: 39pt;text-indent: -9pt;line-height: 83%;text-align: left;">if element contains acceptable device, name and value set new target value and commence</p><p class="s7" style="padding-left: 30pt;text-indent: -9pt;line-height: 83%;text-align: left;">if receive &lt;getProperties&gt; from Client if element contains recognized device</p><p class="s7" style="padding-left: 30pt;text-indent: 9pt;line-height: 83%;text-align: left;">send one &lt;defProperty&gt; for each name for specified device else if element contains no device attribute</p><p class="s7" style="padding-left: 39pt;text-indent: 0pt;line-height: 7pt;text-align: left;">send one &lt;defProperty for each name for each device</p><p class="s7" style="padding-left: 30pt;text-indent: -9pt;line-height: 83%;text-align: left;">if any Property’s value changes, even as a result of a &lt;newXXX&gt; send &lt;setXXX&gt; specifying device+name with new value and state</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Server Behavior Discussion</h2><p style="padding-top: 9pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 122%;text-align: left;">An INDI Server is really any processing steps involved with the transporting of INDI messages so long as it presents the behavior of a Client to all Devices and a Device to all Clients. In its simplest form each command the Server receives from any Device might be sent unaltered to all Clients and each command the Server receives from any Client is sent unaltered to all Devices. The efficiency of this simple Server may be improved in several ways. An efficient server could send each command received from a Client to only the Device known to be responsible for the <span class="s7">device </span>attribute in the command. The Server could also snoop the <span class="s7">getProperties </span>commands from Clients and send setXXX commands only to Devices known to be interested. An INDI Server might cache setXXX commands and use them to respond to getProperties commands without resorting to extra Device queries (this is an important consideration when implementing scripting, described later).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 122%;text-align: left;">INDI Servers must take special precautions to deal with large BLOB Properties. They must maintain and honor the <span class="s7">enableBLOB </span>state for each Client connection. Servers are allowed to drop BLOBs if they arrive faster than slow recipients can accept them. Servers must take care not to block while writing large BLOBs to slow Clients thus starving traffic to faster Clients.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 124%;text-align: left;">It is possible to imagine an INDI server that blocks a Client from sending newXXX messages, even to otherwise writable Properties, based on an authentication strategy. This would open the possibility of a multiuser environment with some users having more control ability than others, perhaps leaving lower priority users with only read-only visibility into the INDI Properties at a facility.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 124%;text-align: left;">It is possible to build INDI Servers such that they can be chained together, by virtue of the fact that Server-Device traffic is (very nearly) the same as Client-Server traffic. Thus one Server could connect to another to gain access to a Device, rather than run the Driver locally. This allows the INDI network to be distributed and take advantage of multiprocessing.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 119%;text-align: left;">Servers might send all <span class="s7">newXXX </span>commands they receive from one Client connection to all other connected Clients. If Clients choose to support receiving <span class="s7">newXXX </span>commands, they might interpret them to mean update the editable field of a writable Property in the Client GUI. Thus, when both Client and Server support this activity, it allows Clients to mirror the commands other Clients have issued.</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Scripting</h2><p style="padding-top: 9pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 124%;text-align: left;">INDI Clients need not be GUI programs, they can also be command line programs. For example a program could be written to get and display one or more INDI Properties specified on its command line. A program could set INDI Properties based on</p><p style="padding-top: 7pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 124%;text-align: left;">command line arguments. A program could be written to accept a boolean expression of INDI Properties on its command line then connect to an INDI server and wait for the Properties to cause the expression to evaluate to true. These sorts of programs could be put together to perform complex functionality within the convenience of a scripting language.</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><h1 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Automatic Scheduled Operation with INDI</h1><p style="padding-top: 7pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 124%;text-align: justify;">So far we have discussed using INDI to control a system in real-time. The INDI self-describing paradigm can also be used to operate any system automatically. Two new XML elements are defined for the purposes of timing the actions performed. For concreteness we discuss an automated telescope application.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Scheduling involves two more components:</p><ul id="l1"><li data-list-text=""><p style="padding-top: 5pt;padding-left: 38pt;text-indent: -18pt;line-height: 132%;text-align: left;">a GUI that displays the Devices and Properties of a site, adds target and constraint parameters and saves the entire description to a request file;</p></li><li data-list-text=""><p style="padding-top: 2pt;padding-left: 38pt;text-indent: -18pt;line-height: 132%;text-align: left;">an INDI client serving as a scheduling dæmon that is in an infinite loop: scanning all requests to select the next observation and communicating with the site Devices to accomplish the work.</p></li></ul><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 124%;text-align: left;">The schedule preparation GUI could look very much like the real-time GUI, perhaps even be the same program. It certainly shows each Device and Property in much the same way. But it also contains a second section which allows the user to define a targeting scheme, timing requirements and to place constraints on the observation.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 124%;text-align: left;">Observation timing might be specified as a particular Date and Time, or JD, with an acceptable error margin; be specified as a cyclical event with reference, period and phase timing window specifications; or might not be specified at all and be left totally up to the scheduler. Whichever way the time is decided, it serves to define the reference start time of the observation.</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 12pt;text-align: justify;">Other constraints might be a required such as maximum seeing spread or an acceptable range of Moon phase. In the former case, the scheduler could know to ask the Device for the current value of a read-only property which reports the seeing from, say, a DIMM<span class="s3">18 </span>device. In the latter case, the daemon consults its own lunar ephemeris and knowledge of the location of the site.</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 123%;text-align: left;">To capture the timing of events comprising one observation, two more elements are added to the XML INDI protocol. An INDI <span class="s7">new</span><span class="s8">type </span>command can be wrapped in a <span class="h2">by </span>element with an attribute <span class="h2">t </span>that specifies with respect to the start of the observation the number of seconds the Property should achieve status OK. At runtime the Scheduler can determine the time is takes to achieve a given target value using the timeout parameter for the Property.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 117%;text-align: left;">An INDI <span class="s7">new</span><span class="s8">type </span>command can also be wrapped in an <span class="h2">at </span>element, also with an attribute <span class="h2">t</span>. This tells the scheduler Client the exact moment when the <span class="s7">new</span><span class="s8">type </span>should be issued. It can be used with any Property but makes most sense when used with ones whose timeout value is 0, for example a <span class="s7">switch </span>that takes no time to accomplish such as a camera shutter control.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 124%;text-align: left;">The role of the Scheduler process is to keep the telescope busy. Whenever the telescope is not busy, the scheduler scans and ranks all observing requests still to be performed. The ranking includes local circumstances such as hour angle and imminent sun rise and set. Constraints are determined to be met by asking the Devices to report the current property values and status. When a request is finally chosen, it is executed by simply issuing the INDI property commands <span class="s2">exactly as they appear in the file</span>, timed according to their <span class="s7">at </span>or <span class="s7">by </span>attributes.</p><p style="padding-top: 8pt;padding-left: 6pt;text-indent: 0pt;line-height: 122%;text-align: left;">Operational specifications use the Devices and Properties for the observatory directly to record which commands are to be issued for the observation. The schedular will cancel the observation if any of these return other than <span class="s7">Busy </span>or <span class="s7">OK </span>status values. For read-only properties, the scheduler requires that the Devices return values that match those in the observation request before choosing that observation to execute.</p><p style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;line-height: 124%;text-align: left;">The following is an example of one observation request. Each of the Constraints were specified by the user in the Schedule Builder GUI. The Operations were compiled using the exact Device and Property names returned to the Builder by the Devices for which the schedule was built. Note the ability to specify different property values to occur at different times; in this case, to implement a multiple exposure to determine the direction of any trailed objects in the image.</p><p style="padding-top: 6pt;text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 20pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;INDIobservation&gt;</p><p class="s7" style="padding-left: 23pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;moon&gt;</p><p class="s7" style="padding-left: 32pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;minSeparation&gt;20&lt;/minSeparation&gt;</p><p class="s7" style="padding-left: 32pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;maxPercentLit&gt;10&lt;/maxPercentLit&gt;</p><p class="s7" style="padding-left: 23pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/moon&gt;</p><p class="s7" style="padding-left: 23pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;timing method=&quot;phase&quot;&gt;</p><p class="s7" style="padding-left: 32pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;phaseTiming&gt;</p><p class="s7" style="padding-left: 41pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;phaseZeroTime&gt;2345678.901&lt;/phaseZeroTime&gt;</p><p class="s7" style="padding-left: 41pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;phasePeriod&gt;3.45&lt;phasePeriod&gt;</p><p class="s7" style="padding-left: 41pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;phaseMin&gt;.3&lt;/phaseMin&gt;</p><p class="s7" style="padding-left: 41pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;phaseMax&gt;.4&lt;/phaseMax&gt;</p><p class="s7" style="padding-left: 32pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/phaseTiming&gt;</p><p class="s7" style="padding-left: 23pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/timing&gt;</p><p class="s7" style="padding-left: 23pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;repeat&gt;</p><p class="s7" style="padding-left: 32pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;count&gt;10&lt;/count&gt;</p><p class="s7" style="padding-left: 32pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;minSep&gt;1&lt;/minSep&gt;</p><p class="s7" style="padding-left: 23pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/repeat&gt;</p><p class="s7" style="padding-left: 30pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;INDI&gt;</p><p class="s7" style="padding-left: 32pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;by t=&quot;0&quot;&gt;</p><p class="s7" style="padding-left: 41pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;newNumberVector device=&quot;Monster Scope&quot; name=&quot;EQUATORIALJ2000_COORD&quot;&gt;</p><p class="s7" style="padding-left: 51pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;oneNumber name=&quot;RA&quot;&gt;10:20:30&lt;/oneNumber&gt;</p><p class="s7" style="padding-left: 51pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;oneNumber name=&quot;Dec&quot;&gt;-4:5:6&lt;/oneNumber&gt;</p><p class="s7" style="padding-left: 41pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/newNumber&gt;</p><p class="s7" style="padding-left: 41pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;newTextVector device=&quot;OTA&quot; name=&quot;Big-O Filters&quot;&gt;</p><p class="s7" style="padding-left: 51pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;oneText name=&quot;setting&quot;&gt;Red&lt;/oneText&gt;</p><p class="s7" style="padding-left: 41pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/newTextVector&gt;</p><p class="s7" style="padding-left: 32pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/by&gt;</p><p class="s7" style="padding-left: 32pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;at t=&quot;0&quot;&gt;</p><p class="s7" style="padding-left: 41pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;newSwitchVector device=&quot;Wonder Cam&quot; name=&quot;Shutter&quot;&gt;</p><p class="s7" style="padding-left: 51pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;oneSwitch name=&quot;open&quot;&gt;On&lt;/oneSwitch&gt;</p><p class="s7" style="padding-left: 41pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/newSwitchVector&gt;</p><p class="s7" style="padding-left: 32pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/at&gt;</p><p class="s7" style="padding-left: 32pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;at t=&quot;10&quot;&gt;</p><p class="s7" style="padding-left: 41pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;newSwitchVector device=&quot;Wonder Cam&quot; name=&quot;Shutter&quot;&gt;</p><p class="s7" style="padding-left: 51pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;oneSwitch name=&quot;open&quot;&gt;Off&lt;/oneSwitch&gt;</p><p class="s7" style="padding-left: 41pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/newSwitchVector&gt;</p><p class="s7" style="padding-left: 32pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/at&gt;</p><p class="s7" style="padding-left: 32pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;at t=&quot;20&quot;&gt;</p><p class="s7" style="padding-left: 41pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;newSwitchVector device=&quot;Wonder Cam&quot; name=&quot;Shutter&quot;&gt;</p><p class="s7" style="padding-left: 51pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;oneSwitch name=&quot;open&quot;&gt;On&lt;/oneSwitch&gt;</p><p class="s7" style="padding-left: 41pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/newSwitchVector&gt;</p><p class="s7" style="padding-left: 32pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/at&gt;</p><p class="s7" style="padding-left: 32pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;at t=&quot;60&quot;&gt;</p><p class="s7" style="padding-left: 41pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;newSwitchVector device=&quot;Wonder Cam&quot; name=&quot;Shutter&quot;&gt;</p><p class="s7" style="padding-left: 51pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;oneSwitch name=&quot;open&quot;&gt;Off&lt;/oneSwitch&gt;</p><p class="s7" style="padding-left: 41pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/newSwitchVector&gt;</p><p class="s7" style="padding-left: 32pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/at&gt;</p><p class="s7" style="padding-left: 30pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/INDI&gt;</p><p class="s7" style="padding-left: 30pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;Log&gt;</p><p class="s7" style="padding-left: 30pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/Log</p><p class="s7" style="padding-left: 20pt;text-indent: 0pt;line-height: 8pt;text-align: left;">&lt;/INDIobservation&gt;</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;line-height: 124%;text-align: left;">As the Scheduler daemon executes each command for this request, the Log portion is filled in. Each entry in the Log is timestamped in format ISO 8601. This forms a permanent record of all actions and results in behalf of this observation.</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><h1 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Summary</h1><p style="padding-top: 7pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 123%;text-align: left;">INDI Clients know nothing about the meaning of the Devices and Properties with which they deal and Devices know nothing of how or why Clients are using their services. Devices present a standard protocol to all potential Clients, so they need only be written one time (for a given operating system) and thus are defined by and move with their equipment and not with their control programs. Clients control any Devices. A real-time GUI Client just displays Properties and lets the user change some of them. A schedule-creation GUI displays the Properties and saves their target values to an XML file containing <span class="s7">new</span><span class="s8">type </span>elements along with additional tags to define constraints and timing. A scheduler daemon reads the file and copies the tags directly to the devices at the appropriate time.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 124%;text-align: left;">Thus, GUIs, file formats and control daemons remain completely unchanged and drivers are only written once to be accessed from anywhere making INDI truly an <span class="s2">Instrument Neutral Distributed Interface</span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-top: 3pt;padding-left: 13pt;text-indent: 0pt;text-align: left;">Protocoll Revision History</h2><h2 style="padding-top: 3pt;padding-left: 13pt;text-indent: 0pt;text-align: left;">Changes</h2><p style="padding-left: 13pt;text-indent: 0pt;line-height: 9pt;text-align: left;">1.1           Initial release</p><p style="padding-left: 13pt;text-indent: 0pt;line-height: 10pt;text-align: left;">1.2           Corrections</p><p style="padding-left: 13pt;text-indent: 0pt;line-height: 10pt;text-align: left;">1.3           Add BLOBs</p><p style="padding-left: 13pt;text-indent: 0pt;line-height: 10pt;text-align: left;">1.4           permit fraction seconds in timestamp; require encoding all BLOBs in base64</p><p style="padding-left: 13pt;text-indent: 0pt;text-align: left;">1.5           make <span class="h2">size </span>attribute in <span class="h2">oneBLOB </span>REQUIRED</p><p style="padding-left: 13pt;text-indent: 0pt;line-height: 10pt;text-align: left;">1.6           clarify when to send all members of a vector or just those that changed</p><p style="padding-left: 13pt;text-indent: 0pt;line-height: 10pt;text-align: left;">1.7           add getProperties message from Devices. Add name to getProperties from Clients.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-top: 3pt;padding-left: 13pt;text-indent: 0pt;text-align: left;">Document Revision History</h2><h2 style="padding-top: 3pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Changes</h2><p style="padding-left: 13pt;text-indent: 0pt;line-height: 9pt;text-align: left;">1.1           Started separate document version after Protocol Rev 1.6</p><p style="padding-left: 13pt;text-indent: 0pt;line-height: 10pt;text-align: left;">1.2           Fix typos, no substantive changes</p><p style="padding-left: 109pt;text-indent: -96pt;text-align: left;">1.3           Add description of drivers snooping via getProperties. Remove candidate standardized property names.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h1 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Resources</h1><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;line-height: 1pt;text-align: left;"/><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="http://www.w3.org/TR/2000/REC-xml-20001006" style=" color: black; font-family:Century, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; vertical-align: 3pt;" target="_blank">1   </a><a href="http://www.w3.org/TR/2000/REC-xml-20001006" target="_blank">http://www.w3.org/TR/2000/REC-xml-20001006</a></p><ol id="l2"><li data-list-text="2"><p style="padding-top: 6pt;padding-left: 34pt;text-indent: -28pt;text-align: left;"><a href="http://pioneer.gsfc.nasa.gov/public/aiml">http://pioneer.gsfc.nasa.gov/public/aiml</a></p></li><li data-list-text="3"><p style="padding-top: 6pt;padding-left: 34pt;text-indent: -28pt;text-align: left;"><a href="http://monet.uni-sw.gwdg.de/twiki/bin/view/RTML/WebHome">http://monet.uni-sw.gwdg.de/twiki/bin/view/RTML/WebHome</a></p></li><li data-list-text="4"><p style="padding-top: 6pt;padding-left: 34pt;text-indent: -28pt;text-align: left;"><a href="http://www.htmlhelp.com/reference/charset/latin1.gif">http://www.htmlhelp.com/reference/charset/latin1.gif</a></p></li><li data-list-text="5"><p style="padding-top: 6pt;padding-left: 34pt;text-indent: -28pt;text-align: left;"><a href="http://www.cl.cam.ac.uk/%7Emgk25/iso-time.html">http://www.cl.cam.ac.uk/~mgk25/iso-time.html</a></p></li><li data-list-text="6"><p style="padding-top: 6pt;padding-left: 34pt;text-indent: -28pt;text-align: left;"><a href="http://www.w3.org/TR/NOTE-datetime">http://www.w3.org/TR/NOTE-datetime</a></p></li><li data-list-text="7"><p style="padding-top: 6pt;padding-left: 34pt;text-indent: -28pt;text-align: left;"><a href="http://www.fourmilab.ch/webtools/base64" class="a" target="_blank">http://www.faqs.org/rfcs/rfc2045.html §6.8, and sample code at </a><a href="http://www.fourmilab.ch/webtools/base64" target="_blank">http://www.fourmilab.ch/webtools/base64</a></p></li><li data-list-text="8"><p style="padding-top: 6pt;padding-left: 34pt;text-indent: -28pt;text-align: left;"><a href="http://fits.gsfc.nasa.gov/">http://fits.gsfc.nasa.gov</a></p></li><li data-list-text="9"><p style="padding-top: 6pt;padding-left: 34pt;text-indent: -28pt;text-align: left;"><a href="http://www.zlib.org/" class="a" target="_blank">http://www.faqs.org/rfcs/rfc1951.html and </a><a href="http://www.zlib.org/" target="_blank">http://www.zlib.org</a></p></li><li data-list-text="10"><p style="padding-top: 6pt;padding-left: 34pt;text-indent: -28pt;text-align: left;"><a href="http://www.openssl.org/" class="a" target="_blank">http://home.netscape.com/eng/ssl3/draft302.txt, </a><a href="http://www.openssl.org/" target="_blank">http://www.openssl.org</a></p></li><li data-list-text="11"><p style="padding-top: 6pt;padding-left: 34pt;text-indent: -28pt;text-align: left;"><a href="http://www.openssh.com/">http://www.openssh.com</a></p></li><li data-list-text="12"><p style="padding-top: 6pt;padding-left: 34pt;text-indent: -28pt;text-align: left;"><a href="http://www.openp2p.com/">http://www.openp2p.com</a></p></li><li data-list-text="13"><p style="padding-top: 6pt;padding-left: 34pt;text-indent: -28pt;text-align: left;"><a href="http://www.jxta.org/">http://www.jxta.org</a></p></li><li data-list-text="14"><p style="padding-top: 6pt;padding-left: 34pt;text-indent: -28pt;text-align: left;"><a href="http://www.jabber.org/">http://www.jabber.org</a></p></li><li data-list-text="15"><p style="padding-top: 6pt;padding-left: 34pt;text-indent: -28pt;text-align: left;"><a href="http://xml-rpc.com/">http://xml-rpc.com</a></p></li><li data-list-text="16"><p style="padding-top: 6pt;padding-left: 34pt;text-indent: -28pt;text-align: left;"><a href="http://www.w3.org/TR/SOAP">http://www.w3.org/TR/SOAP</a></p></li><li data-list-text="17"><p style="padding-top: 6pt;padding-left: 34pt;text-indent: -28pt;text-align: left;"><a href="http://www.iana.net/">http://www.iana.net</a></p></li><li data-list-text="18"><p style="padding-top: 6pt;padding-left: 34pt;text-indent: -28pt;text-align: left;"><a href="http://www.astro.washington.edu/rest/dimm">http://www.astro.washington.edu/rest/dimm</a></p></li></ol></body></html>
